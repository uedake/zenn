---
title: "ROS2の用語集"
emoji: "📘"
type: "tech"
topics:
  - "ros2"
  - "robot"
  - "robotics"
published: true
published_at: "2024-02-04 15:56"
---

# 解説対象

本記事では、ROS2を理解する上で欠かせない用語についてまとめています。

# 用語

## （ROS特有でない）プログラミング用語

- 下記は、ROS2を勉強するにあたって必要な前提知識にあたるプログラミング用語です
- ROS2特有の用語でないのですが、ROS2の視点でみたときの補足説明を加えておきます

| 用語 | 意味 | ROS2における要点 |
| ---- | ---- | ---- | 
| パッケージ（package） | ある一群のプログラム及び各種リソースファイルを配布のために一纏めにしたもの | ROS/ROS2の世界では、単にパッケージと言えばそれはROSパッケージのことです。ROSパッケージとは、ROSやROS2で提供されるビルドシステム（=catkinやcolcon）で作成されたパッケージのことです。ROS/ROS2では、多数のパッケージを組み合わせて動かすことでロボットシステムを構築します。一般にROS用のパッケージとROS2用のパッケージに互換性はありませんが、ROS2用のパッケージでもROS2パッケージと呼ばずに単にROSパッケージと呼ぶことがあります（文脈で読み取ってください）。パッケージ内には実行可能プログラムが含まれることが多いですが、実行可能プログラムを含まずライブラリやリソースファイルのみを含むパッケージも存在します（メッセージ型定義用のパッケージやURDF定義用のパッケージ等） |
|プログラム|コンピュータに行わせる処理が記述されているソフトウェア。狭義には人間が読めないバイナリ形式で記述されているもの（＝コンパイル済みプログラム）をさすが、広義には人間が読めるテキスト形式で記述されているもの（＝スクリプト）も含む|ROS/ROS2の世界では、プログラムをスクリプトとして（pythonを使用した場合）も、コンパイル済みプログラムとして（C++を使用した場合）も、どちらでも記述可能であり開発者が任意に選択できる。プログラムは、単独で実行可能かという点で、実行可能プログラム・ライブラリの２種類に分かれる |
| 実行可能プログラム（executable） | 狭義には（シェル上等で）直接実行できるプログラムのことだが、広義には指定のプログラム（インタプリタ等）上で実行できるようエントリーポイントを持つスクリプトも含む。他のプログラムから部品として呼び出されるライブラリとは区別されますが、スクリプト形式の場合についてはexecutableと考えるかlibraryと考えるかの区別は曖昧です | ROS2の世界では、c++でプログラムを記述しCMakeLists.txtでadd_executableによって指定しビルドすることでexecutableが生成されます。また、pythonでプログラムを記述しsetup.pyでentry_pointsによって指定することでros2 runコマンド上で実行できる実行可能なスクリプトとなり、これもexecutableと呼びます。ROS/ROS2の世界では、多数のexecutableを実行し並列動作させることでロボットシステムを構築します。executableはパッケージに含まれて配布されます。ROS2ではlaunchファイルをpythonで記述可能であり、python形式のlaunchファイルは広義の実行可能なプログラムと考えることも可能ですが、ROS2ではlaunchファイルをexecutableとは呼びません（launchファイルはリソースファイルの１種と考えます） |
| ライブラリ（library） | 他のプログラムから部品として呼び出される処理を記述したプログラムのこと。実行可能プログラムではないプログラムのこと。スクリプト形式の場合についてはexecutableと考えるかlibraryと考えるかの区別は曖昧です | ROS2の世界では、c++でプログラムを記述しCMakeLists.txtでadd_libraryによって指定しビルドすることでlibraryが生成されます。ROS2ではlaunchファイルをpythonで記述可能であり、python形式のlaunchファイルはライブラリと考えることも可能ですが、ROS2ではlaunchファイルをlibraryとは呼びません（launchファイルはリソースファイルの１種と考えます） |
| リソースファイル | プログラムから読み取られ利用される情報を記載したファイル。テキスト形式のファイル・バイナリ形式のファイルの両方がある。スクリプトはプログラムと看做す場合、リソースファイルと看做す場合のどちらも存在する | ROS/ROS2の世界で特有なリソースファイルとして、メッセージ定義ファイル、URDF、launchファイル、ノードパラメータ設定ファイル等が存在します。その他、画像ファイル・3Dモデルなどもパッケージに含まれるリソースファイルになります |


## ROS特有のファイル

| 用語 | 意味 | ファイル形式 |
| ---- | ---- | ---- |
| メッセージ定義ファイル | トピック通信で情報を送受信する際の型を定義するファイル。サービス通信で情報を送受信する場合に複合型が必要な場合にも使用する | テキスト（ROS独自フォーマット） |
| サービス定義ファイル | サービスで情報を送受信する際の型を定義するファイル。単純型（bool/string/byte/整数型/浮動小数点型/及びそれらの配列）のみを使用する場合はサービス定義ファイルのみで完結して定義できる。複合型（単純型及び複合型を子要素として持つ型）を使用したい場合は合わせて複合型を定義するメッセージ定義ファイルも必要となる | テキスト（ROS独自フォーマット） |
| アクション定義ファイル | アクションで情報を送受信する際の型を定義するファイル。単純型（bool/string/byte/整数型/浮動小数点型/及びそれらの配列）のみを使用する場合はアクション定義ファイルのみで完結して定義できる。複合型（単純型及び複合型を子要素として持つ型）を使用したい場合は合わせて複合型を定義するメッセージ定義ファイルも必要となる | テキスト形式（ROS独自フォーマット） |
| URDF | ロボットのジョイントやリンク等の構造を記述したファイル。間接の状態値からリンクの位置姿勢を求めること（運動学）に使用する。反対にリンクの位置姿勢から関節の状態値を求めること（逆運動学）にも使用する。加えてros2_controlで使用するためのstate interfaceやcommand interfaceの定義の提供、gazeboで使用する物理パラメータの提供を行うためにも使用する。 | xml |
| SRDF | moveitで使用する情報を提供するxml形式のファイル | xml |
| launchファイル | プログラムを決まった手順で立ち上げるための処理を記述したファイル。基本的にはロボットシステムを構成するexecutableを起動するために使用するが、任意のプログラムの起動にも使用できる。launchファイルを用意すると`ros2 launch`コマンドでlaunchファイルに記述した処理を実行できるようになる。 | python / yaml / xml |
| ノードパラメータ設定ファイル（configファイル） | ノード毎もしくはノード共通のノードパラメータの初期値を記述したファイル | yaml |

## ノードの基本用語

| 用語 | 意味 | 解説記事 |
| ---- | ---- | ---- |
| ノード | ROS2上で実行する処理を担う最も基本的なオブジェクト（論理処理単位）。`Node`クラスもしくはその派生クラス（カスタムノードクラス等）をインスタンス化して生成する | [ノード編１](https://zenn.dev/uedake/articles/ros2_node1_basic) |
| ライフサイクルノード | ノードの一種でライフサイクルを持つノード。`LifecycleNode`クラスもしくはその派生クラス（カスタムノードクラス等）をインスタンス化して生成する| TBD |
| ノードクラス | ノードを生成する為のクラス実装でありクライアント言語（c++やpython等）で実装される。標準ノードクラスとカスタムノードクラスに分かれる | [コンセプト](https://zenn.dev/uedake/articles/ros2_concept) |
| 標準ノードクラス | `Node`クラス及び`LifecycleNode`クラスのこと | [コンセプト](https://zenn.dev/uedake/articles/ros2_concept) |
| カスタムノードクラス | 独自に実装した`Node`派生クラスもしくは`LifecycleNode`派生クラスのこと | [コンセプト](https://zenn.dev/uedake/articles/ros2_concept) |
| ノード名 | システム上に存在するノードを一意に識別する為に使用される文字列。絶対指定（`/`で始まる）した場合、トピック名が完全修飾ノード名になる。相対指定（`/`以外で始まる）した場合、「ノード名前空間+`/`+ノード名」が完全修飾ノード名になる。 | [ノード編２](https://zenn.dev/uedake/articles/ros2_node2_name) |
| ノード名前空間 | システム上に存在するノードを一意に識別する為に使用される文字列。主に同一のノードクラスから生成するノードが同時に存在できるようにする為に使用する | [ノード編２](https://zenn.dev/uedake/articles/ros2_node2_name) |
| 完全修飾ノード名 | システム上に存在するノードを一意に識別する文字列。システム中で一意である必要がある。必ず`/`で始まる | [ノード編２](https://zenn.dev/uedake/articles/ros2_node2_name) |

## ノードの初期化関連用語

| 用語 | 意味 | 解説記事 |
| ---- | ---- | ---- |
| ROS引数 | ノードの初期化を制御する為の値。ノードパラメータの初期値の設定やremapルールの指定ができる。同じexecutableで生成される全ノードで共通のグローバルROS引数と、各ノード毎のローカルROS引数の２種類がある。グローバルROS引数は、`ros2 run`コマンドで`--ros-args`と記載した後に指定することのできる。 | [ノード編５](https://zenn.dev/uedake/articles/ros2_node1_basic) |
| グローバルデフォルトコンテキスト | ノードの初期化に使用される情報を管理するオブジェクトでありプロセス中の全ノード間で共有される。`global_arguments`フィールドにグローバルROS引数を持つ。 | [ノード編５](https://zenn.dev/uedake/articles/ros2_node5_context) |
| remapルール | ノード名／ノード名前空間／トピック名／サービス名を書き換える規則を記述した情報。ROS引数の１つとしても指定できる | [ノード編３](https://zenn.dev/uedake/articles/ros2_node3_remap) |


## 特殊ノード

| 用語 | 意味 | 解説記事 |
| ---- | ---- | ---- |
| launch_rosノード | launchシステムによって自動的に起動されるシステムノード。各ライフサイクルノードのライフサイクルイベントの変化をトリガーとしてlaunch処理を行うための連携を行うために存在する | [launch編５](https://zenn.dev/uedake/articles/ros2_launch5_lifecycle_node) |
| コントローラー管理ノード | TBD | TBD |
| コントローラーノード | TBD | TBD |


## ノードの内部構造用語

| 用語 | 意味 | 解説記事 |
| ---- | ---- | ---- |
| rclノード | ノードの内部構造でありremapの処理など基本機能を提供している部分。クライアント言語（c++,python等）に依存しないcで実装されている | [ノード編１](https://zenn.dev/uedake/articles/ros2_node1_basic) |
| rmwノード | rclノードの内部構造でありDDSという通信規格を用いてノード間で互いに通信を行えるようにする機能を提供している部分。クライアント言語（c++,python等）に依存しないcで実装されている | [ノード編１](https://zenn.dev/uedake/articles/ros2_node1_basic) |


## ノードのインタフェース用語

| 用語 | 意味 |
| ---- | ---- |
| トピック通信 | publish-subscribe方式の通信。通信相手がプロセス外にいる場合、UDP（もしくはTCP）で通信を行い、通信相手がプロセス内にいる場合はプロセス内通信（共有メモリ等）が行われる。トピックにおける通信に使用される他、アクションにおけるフィードバックの通信でも使用される |
| サービス通信 | request-reply方式で行われる通信。通信相手がプロセス外にいる場合、UDP（もしくはTCP）で通信を行い、通信相手がプロセス内にいる場合はプロセス内通信（共有メモリ等）が行われる。サービスにおける通信に使用される他、アクションにおけるゴール設定／結果取得の通信やノードパラメータの読み書きの通信でも使用される |


| 用語 | 意味 | 解説記事 |
| ---- | ---- | ---- |
| トピック | メッセージをpublish-subscribe方式でやり取りするための仕組み。メッセージを出力するパブリッシャー、メッセージを受け取るサブスクリプションの間で、多対多の通信が可能。サブスクリプション側は非同期的に実行する（＝メッセージが来たタイミングで動作する） | [トピック編１](https://zenn.dev/uedake/articles/ros2_topic1_basic) |
| サービス | 要求をrequest-reply方式で実行するための仕組み。要求を行うサービスクライアント、要求に応答するサービスサーバーの間で、多対１の通信が可能。サービスクライアント側は通常同期的に実行する（＝要求に対する応答が来るまで待ち合わせる） | TBD |
| アクション | 要求をrequest-reply方式で指示した後に、その要求状態が実現されるまでの間の状態通知のメッセージをpublish-subscribe方式で知らせ、最終的な結果をrequest-reply方式で得るための仕組み。要求を行うアクションクライアント、要求に応答するアクションサーバーの間で、多対１の通信が可能。アクションクライアント側は通常非同期的に実行する（＝結果が来るまで待ち合わせない）。実体としては、トピックとサービスの仕組み使用して実現される。 | TBD |
| ノードパラメータ | ノードの動作を変更する為の設定値。ノードを生成するexecutableのコマンドライン引数として初期値が指定される。またノードパラメータの読み書きがサービスの仕組み使用して実現される。 | [ノード編４](https://zenn.dev/uedake/articles/ros2_node4_parameter) |
| commandインタフェース | TBD | TBD |
| stateインタフェース | TBD | TBD |

### トピック関連用語

| 用語 | 意味 | 解説記事 |
| ---- | ---- | ---- |
| パブリッシャー | ノードが保有する「特定のトピックへメッセージを送信（publish）する」仕組み。まず事前準備として、どのようなメッセージ型でどのトピック（トピック名）に送信するかを定義しておく。その後実際にメッセージ送信時に、事前に定義したメッセージ型を満たす具体的なメッセージを生成し送信する| [トピック編１](https://zenn.dev/uedake/articles/ros2_topic1_basic) |
| サブスクリプション | ノードが保有する「特定のトピックからメッセージを受信する」仕組み。まず事前準備として、どのようなメッセージ型でどのトピック（トピック名）から受信するか、受信時にどのような処理を行うか（コールバック関数）を定義しておく。その後実際にメッセージ受信時に、メッセージがトピックにpublishされたタイミングで事前に定義したコールベック関数にメッセージが渡され実行される | [トピック編２](https://zenn.dev/uedake/articles/ros2_topic1_basic) |
| トピック名 | トピックを区別する為に設定する名称。絶対指定（`/`で始まる）した場合、トピック名が完全修飾トピック名になる。相対指定（`/`以外で始まる）した場合、「ノード名前空間+`/`+トピック名」が完全修飾トピック名になる。 | [トピック編２](https://zenn.dev/uedake/articles/ros2_topic2_name) |
| 完全修飾トピック名 | トピックを区別する名称。システム中で一意である必要がある。必ず`/`で始まる | [トピック編２](https://zenn.dev/uedake/articles/ros2_topic2_name) |




### サービス関連用語

| 用語 | 意味 | 解説記事 |
| ---- | ---- | ---- |
| サービスクライアント | TBD | TBD |
| サービスサーバー | TBD | TBD |
| サービス名 | TBD | TBD |
| 完全修飾サービス名 | TBD | TBD |

### アクション関連用語

| 用語 | 意味 | 解説記事 |
| ---- | ---- | ---- |
| アクションクライアント | TBD | TBD |
| アクションサーバー | TBD | TBD |
| アクション名 | TBD | TBD |
